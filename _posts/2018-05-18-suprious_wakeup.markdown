---
layout:     post
title:      "条件变量中的虚假唤醒"
date:       2018-05-18 20:40:45
author:     "faxiang1230"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
  - linux
---
# 条件变量中的虚假唤醒
英文是`suprious wakeup`,翻译成`虚假唤醒`，这两种称呼都不是特别贴切，可能换成`broken wakeup`更加清晰。  
1.为了保护临界区数据，我们通常使用锁来进行保护。用户空间中通常是多线程中使用pthread_mutex_lock来进行保护，内核中有自旋锁、信号量等进行保护  
2.在多线程中，当线程A获取资源R时如果不成功，有可能需要等待。轮询是一种方式，其中有两种做法，一种就是死等，另外一种是周期性轮询，每隔一段时间去询问。前者太耗费资源，后者的间隔设置是个问题，太小就会耗费大量cpu资源，间隔太大又会引起延迟。通常我们使用条件变量来进行通知。
## 出现的时机

## 解决方法
