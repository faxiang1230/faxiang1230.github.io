---
layout:     post
title:      "Traffic Control"
subtitle:   "tc theory"
date:       2018-03-26 20:40:45
author:     "faxiang1230"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
  - linux
  - network
---
# Traffic Control
以下tc指代Traffic Control
## Overview
tc是为了管理在一个路由上那些包可以被接收和发送，包括在接收网络包时:是否接收包，以什么速度接收网络报;在发送时那些包可以被发送，发送顺序，发送速率.  
在绝大多数的情形下,tc只包含一个单队列,接收协议栈发送的包,然后尽可能快得分发到网卡设备上,这个就是FIFO.Linux系统中默认的`qdisc`是`pfifo_fast`，只是比`FIFO`复杂了一点.  
网络链接通常是串行发送的,所以通常是需要一个队列来管理外出的数据。
示例:有一个桌面PC和一个高性能的web服务器,他们在同一个局域网内，然后他们就可能争用带宽。很多web服务器是有能力迅速填充发送队列一直到填充的速率比网络带宽还要高，这样路由器就会开始丢包。此时桌面PC也会面临丢包和高延迟，这会让使用者疯掉的。通过单独的队列来服务这两种应用，可以更好地来共享网络资源。
tc是一个工具集，允许用户对这些队列和队列管理进行精细控制。有能力重排网络流量和数据包，非常给力但是也很复杂，但是并不能解决物理带宽的限制。
